(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b2377de0"],{"04d1":function(t,e,n){var o=n("342f"),c=o.match(/firefox\/(\d+)/i);t.exports=!!c&&+c[1]},"358f":function(t,e,n){"use strict";n("6228")},"4e82":function(t,e,n){"use strict";var o=n("23e7"),c=n("e330"),s=n("59ed"),i=n("7b0b"),a=n("07fa"),r=n("577e"),l=n("d039"),u=n("addb"),d=n("a640"),h=n("04d1"),f=n("d998"),p=n("2d00"),b=n("512c"),m=[],O=c(m.sort),v=c(m.push),j=l((function(){m.sort(void 0)})),g=l((function(){m.sort(null)})),k=d("sort"),w=!l((function(){if(p)return p<70;if(!(h&&h>3)){if(f)return!0;if(b)return b<603;var t,e,n,o,c="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(o=0;o<47;o++)m.push({k:e+o,v:n})}for(m.sort((function(t,e){return e.v-t.v})),o=0;o<m.length;o++)e=m[o].k.charAt(0),c.charAt(c.length-1)!==e&&(c+=e);return"DGBEFHACIJK"!==c}})),y=j||!g||!k||!w,I=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:r(e)>r(n)?1:-1}};o({target:"Array",proto:!0,forced:y},{sort:function(t){void 0!==t&&s(t);var e=i(this);if(w)return void 0===t?O(e):O(e,t);var n,o,c=[],r=a(e);for(o=0;o<r;o++)o in e&&v(c,e[o]);u(c,I(t)),n=c.length,o=0;while(o<n)e[o]=c[o++];while(o<r)delete e[o++];return e}})},"512c":function(t,e,n){var o=n("342f"),c=o.match(/AppleWebKit\/(\d+)\./);t.exports=!!c&&+c[1]},6228:function(t,e,n){},addb:function(t,e,n){var o=n("4dae"),c=Math.floor,s=function(t,e){var n=t.length,r=c(n/2);return n<8?i(t,e):a(t,s(o(t,0,r),e),s(o(t,r),e),e)},i=function(t,e){var n,o,c=t.length,s=1;while(s<c){o=s,n=t[s];while(o&&e(t[o-1],n)>0)t[o]=t[--o];o!==s++&&(t[o]=n)}return t},a=function(t,e,n,o){var c=e.length,s=n.length,i=0,a=0;while(i<c||a<s)t[i+a]=i<c&&a<s?o(e[i],n[a])<=0?e[i++]:n[a++]:i<c?e[i++]:n[a++];return t};t.exports=s},d505:function(t,e,n){"use strict";n.r(e);n("b0c0"),n("4e82");var o=n("7a23"),c=function(t){return Object(o["C"])("data-v-0a733340"),t=t(),Object(o["A"])(),t},s={class:"container my-Personal-Wall"},i={class:"pos_1"},a={class:"above"},r={class:"name-Date"},l=c((function(){return Object(o["h"])("h5",null,"100,000 人追蹤",-1)})),u={class:"follow-Btn"},d=c((function(){return Object(o["h"])("div",{class:"under"},null,-1)})),h={class:"pos_2"},f={class:"search-Div"},p={class:"search-DropDown"},b=c((function(){return Object(o["h"])("option",{value:"newest"},"最新貼文",-1)})),m=c((function(){return Object(o["h"])("option",{value:"oldest"},"最舊貼文",-1)})),O=[b,m],v={class:"search-Text"},j={class:"search-Unicon"},g={class:"post_1"},k={class:"posterName"},w={class:"post-edit-div"},y=["onClick","onBlur"],I={class:"post-edit-btn"},C={class:"dropDonw-List-Ul"},A=["onClick"],_=c((function(){return Object(o["h"])("li",{style:{}},"刪除",-1)})),L=[_],D=c((function(){return Object(o["h"])("li",{style:{}},"編輯",-1)})),x=[D],U={class:"post_2 content"},B={class:"post_3"},T=["src"],F={class:"post_4"},W=["onClick"],z={class:"post_5"},K={class:"post_1"},P={class:"comment-form"},V=["onUpdate:modelValue"],E=["onClick"],H=c((function(){return Object(o["h"])("div",{class:"comment-form-btn"},[Object(o["h"])("h4",null,"留言")],-1)})),N=[H],R={class:"pos_6_HeadName"},$={class:"posterName"},M={class:"postComment"},S={class:"loadingBackground"},G={class:"loading"},J=c((function(){return Object(o["h"])("div",{class:"lds-circle"},[Object(o["h"])("div")],-1)})),Q=[J];function q(t,e,n,c,b,m){var _=Object(o["H"])("unicon");return Object(o["z"])(),Object(o["g"])("div",s,[Object(o["h"])("div",i,[Object(o["h"])("div",a,[Object(o["h"])("div",{class:"userHeadImg",style:Object(o["t"])([{"background-image":"url("+b.userInformation.photo+")"},{"background-size":"cover","background-position":"center",overflow:"hidden"}])},null,4),Object(o["h"])("div",r,[Object(o["h"])("h3",null,Object(o["K"])(b.userInformation.name),1),l]),Object(o["h"])("div",u,[Object(o["h"])("a",{type:"button",class:"follow-A",href:"#",onClick:e[0]||(e[0]=Object(o["W"])((function(t){return m.followOrCancelFollow()}),["prevent"]))},[Object(o["h"])("div",{class:Object(o["s"])(["follow-Btn-div",{"follow-Btn-div-cancel":b.isCancelFollowBtnActive}])},Object(o["K"])(b.isCancelFollowBtnActive?"取消追蹤":"追蹤"),3)])])]),d]),Object(o["h"])("div",h,[Object(o["h"])("div",f,[Object(o["h"])("div",p,[Object(o["V"])(Object(o["h"])("select",{class:"search-Select","onUpdate:modelValue":e[1]||(e[1]=function(t){return b.sortBy=t}),onChange:e[2]||(e[2]=Object(o["W"])((function(t){return m.sort()}),["prevent"]))},O,544),[[o["O"],b.sortBy]])]),Object(o["h"])("div",v,[Object(o["V"])(Object(o["h"])("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=function(t){return b.searchText=t}),class:"search-Text-Input",placeholder:"搜尋貼文"},null,512),[[o["P"],b.searchText]]),Object(o["h"])("a",{type:"button",class:"search-Btn",href:"#",onClick:e[4]||(e[4]=Object(o["W"])((function(t){return m.searchByText()}),["prevent"]))},[Object(o["h"])("div",j,[Object(o["j"])(_,{name:"search",fill:"white"})])])])])]),(Object(o["z"])(!0),Object(o["g"])(o["a"],null,Object(o["G"])(b.posts,(function(n){return Object(o["z"])(),Object(o["g"])("div",{key:n,class:"post"},[Object(o["h"])("div",g,[Object(o["h"])("a",{type:"button",class:"",href:"#",onClick:e[5]||(e[5]=Object(o["W"])((function(){}),["prevent"]))},[Object(o["h"])("div",{class:"postHeadImg",style:Object(o["t"])([{"background-image":"url("+n.user.photo+")"},{"background-size":"cover","background-position":"center",overflow:"hidden"}])},null,4)]),Object(o["h"])("div",k,[Object(o["h"])("h3",null,Object(o["K"])(n.user.name),1),Object(o["h"])("h5",null,Object(o["K"])(n.createdAt),1)]),Object(o["h"])("div",w,[Object(o["h"])("a",{type:"button",class:"post-edit-A",href:"#",onClick:Object(o["W"])((function(e){n.isDropDown=!t.isDropDown}),["prevent"]),onBlur:function(t){return m.closeDropDown(n)}},[Object(o["h"])("div",I,[Object(o["j"])(_,{name:"ellipsis-h",fill:"black"})])],40,y),n.isDropDown?(Object(o["z"])(),Object(o["e"])(o["b"],{key:0,name:"fade",class:"dropDown-List"},{default:Object(o["U"])((function(){return[Object(o["h"])("ul",C,[Object(o["h"])("a",{type:"button",class:"",href:"#",onClick:Object(o["W"])((function(t){return m.deletePost(n)}),["prevent"])},L,8,A),Object(o["h"])("a",{type:"button",class:"",href:"#",onClick:e[6]||(e[6]=Object(o["W"])((function(){}),["prevent"]))},x)])]})),_:2},1024)):Object(o["f"])("",!0)])]),Object(o["h"])("div",U,[Object(o["h"])("h4",null,Object(o["K"])(n.content),1)]),Object(o["h"])("div",B,[Object(o["h"])("img",{src:n.image},null,8,T)]),Object(o["h"])("div",F,[Object(o["h"])("a",{type:"button",class:"thumbs-up-A",href:"#",onClick:Object(o["W"])((function(t){return m.addLikeOrDeleteLike(n)}),["prevent"])},[Object(o["j"])(_,{class:"thumbs-up",name:"thumbs-up",fill:[n.isLikeClicked?"royalblue":"#a6a6a6"]},null,8,["fill"])],8,W),Object(o["h"])("div",null,"  "+Object(o["K"])(n.likes),1)]),Object(o["h"])("div",z,[Object(o["h"])("div",K,[Object(o["h"])("div",{class:"postHeadImg",style:Object(o["t"])([{"background-image":"url("+b.myUserInformation.photo+")"},{width:"3.5em","padding-top":"3.5em","background-size":"cover","background-position":"center",overflow:"hidden"}])},null,4)]),Object(o["h"])("div",P,[Object(o["V"])(Object(o["h"])("input",{type:"text",class:"comment-form-text","onUpdate:modelValue":function(t){return n.comment.text=t},placeholder:"輸入留言..."},null,8,V),[[o["P"],n.comment.text]]),Object(o["h"])("a",{type:"button",class:"comment-form-A",href:"#",onClick:Object(o["W"])((function(t){return m.addComment(n)}),["prevent"])},N,8,E)])]),(Object(o["z"])(!0),Object(o["g"])(o["a"],null,Object(o["G"])(n.commentDetail,(function(t){return Object(o["z"])(),Object(o["g"])("div",{class:"pos_6",key:t},[Object(o["h"])("div",R,[Object(o["h"])("a",{type:"button",class:"",href:"#",onClick:e[7]||(e[7]=Object(o["W"])((function(){}),["prevent"]))},[Object(o["h"])("div",{class:"postHeadImg",style:Object(o["t"])([{width:"3.5em","padding-top":"3.5em","background-size":"cover","background-position":"center",overflow:"hidden"},{"background-image":"url("+t.user.photo+")"}])},null,4)]),Object(o["h"])("div",$,[Object(o["h"])("h3",null,Object(o["K"])(t.user.name),1),Object(o["h"])("h5",null,Object(o["K"])(t.updatedAt),1)])]),Object(o["h"])("div",M,[Object(o["h"])("h4",null,Object(o["K"])(t.content),1)])])})),128))])})),128)),Object(o["V"])(Object(o["h"])("div",S,null,512),[[o["Q"],b.isLoading]]),Object(o["V"])(Object(o["h"])("div",G,Q,512),[[o["Q"],b.isLoading]])])}var X=n("1da1"),Y=n("3835"),Z=(n("96cf"),n("ac1f"),n("5319"),n("99af"),n("4de4"),n("d3b7"),n("159b"),n("1276"),n("caad6"),n("2532"),n("bc3a")),tt=n.n(Z),et={data:function(){return{followingId:"",isLoading:!1,isCancelFollowBtnActive:!1,myUserInformation:{},myUserId:"",posts:[],sortBy:"newest",searchText:"",userId:"6277d49f5b11695971e06846",userInformation:{}}},mounted:function(){this.userTokenCheck(this.getMyUserInformation),this.getPosts()},methods:{userTokenCheck:function(t){var e=this,n="".concat("https://blooming-sands-85089.herokuapp.com","/user/auth-check"),o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),c="Bearer ".concat(o);tt.a.defaults.headers.common.Authorization=c,tt.a.post(n).then((function(n){e.myUserId=n.data.userId,void 0!==t&&t()})).catch((function(){e.$router.push("/login")}))},closeDropDown:function(t){setTimeout((function(){t.isDropDown=!1}),70)},follow:function(){var t=this;this.isCancelFollowBtnActive=!0;var e=this.myUserInformation._id,n="".concat("https://blooming-sands-85089.herokuapp.com","/userFollowing/").concat(e),o={user:this.userId,whoFollow:e};tt.a.post(n,o).then((function(e){t.followingId=e.data.data})).catch((function(t){console.dir(t)}))},cancelFollow:function(){var t=this;this.isCancelFollowBtnActive=!1;var e=this.myUserInformation._id,n="".concat("https://blooming-sands-85089.herokuapp.com","/userFollowing/").concat(e),o={_id:this.followingId};tt.a.patch(n,o).then((function(){t.followingId=""})).catch((function(t){console.dir(t)}))},followOrCancelFollow:function(){this.isCancelFollowBtnActive?this.cancelFollow():this.follow()},getMyUserInformation:function(){var t=this,e=this.myUserId,n="".concat("https://blooming-sands-85089.herokuapp.com","/users/").concat(e);tt.a.get(n).then((function(e){return t.myUserInformation=e.data.datas,t.getUserInformation()})).catch((function(){}))},getUserInformation:function(){var t=this,e=this.$route.params.id;this.userId=e;var n="".concat("https://blooming-sands-85089.herokuapp.com","/users/").concat(this.userId);tt.a.get(n).then((function(e){t.userInformation=e.data.datas;var n=t.myUserInformation.followings.filter((function(e){return e.user._id===t.userInformation._id}));t.followingId=n[0]._id,""===t.followingId?t.isCancelFollowBtnActive=!1:t.isCancelFollowBtnActive=!0})).catch((function(){}))},getPosts:function(){var t=this;this.isLoading=!0;var e=this.$route.params.id;this.userId=e;var n="".concat("https://blooming-sands-85089.herokuapp.com","/posts/by-userId/").concat(this.userId);tt.a.get(n).then((function(e){e.data.datas.forEach((function(t){t.createdAt_Original=t.createdAt;var e=t.createdAt.split("T"),n=Object(Y["a"])(e,1),o=n[0];t.createdAt=o})),t.posts=e.data.datas,t.sort(),t.posts.forEach(function(){var e=Object(X["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.isLikeClicked=n.whoLikes.includes(t.myUserId),e.next=3,n.commentDetail.forEach((function(t){t.updatedAt_Original=n.updatedAt;var e=t.updatedAt.split("T"),o=Object(Y["a"])(e,1),c=o[0];t.updatedAt=c}));case 3:n.comment={text:""},n.isDropDown=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),setTimeout((function(){t.isLoading=!1}),1700)})).catch((function(t){console.dir(t)}))},sort:function(){"newest"===this.sortBy?this.posts.sort((function(t,e){return new Date(e.createdAt_Original)-new Date(t.createdAt_Original)})):"oldest"===this.sortBy&&this.posts.sort((function(t,e){return new Date(t.createdAt_Original)-new Date(e.createdAt_Original)}))},searchByText:function(){var t=this;this.isLoading=!0;var e="".concat("https://blooming-sands-85089.herokuapp.com","/posts/by-userId/").concat(this.userId),n={content:this.searchText};tt.a.post(e,n).then(function(){var e=Object(X["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.data.datas.forEach((function(t){t.createdAt_Original=t.createdAt;var e=t.createdAt.split("T"),n=Object(Y["a"])(e,1),o=n[0];t.createdAt=o})),t.posts=n.data.datas,t.sort(),e.next=5,t.posts.forEach(function(){var e=Object(X["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.isLikeClicked=n.whoLikes.includes(t.myUserId),e.next=3,n.commentDetail.forEach((function(t){t.updatedAt_Original=n.updatedAt;var e=t.updatedAt.split("T"),o=Object(Y["a"])(e,1),c=o[0];t.updatedAt=c}));case 3:n.comment={text:""},n.isDropDown=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:setTimeout((function(){t.isLoading=!1}),20);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){console.log(t)}))},addLike:function(t){var e=t,n=this.myUserId,o=e._id,c="".concat("https://blooming-sands-85089.herokuapp.com","/posts/").concat(o),s=e;s.likes+=1,e.isLikeClicked=!0,e.whoLikes.push(n);var i={likes:e.likes,whoLikes:e.whoLikes};tt.a.patch(c,i).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},deleteLike:function(t){var e=t,n=this.myUserId,o=e._id,c="".concat("https://blooming-sands-85089.herokuapp.com","/posts/").concat(o),s=e;s.likes-=1,e.isLikeClicked=!1,e.whoLikes=e.whoLikes.filter((function(t){return t!==n}));var i={likes:e.likes,whoLikes:e.whoLikes};tt.a.patch(c,i).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},addLikeOrDeleteLike:function(t){t.isLikeClicked?this.deleteLike(t):this.addLike(t)},addComment:function(t){var e=this,n=this.myUserInformation._id,o=t._id,c="".concat("https://blooming-sands-85089.herokuapp.com","/postAddComment/").concat(o),s={user:n,content:t.comment.text};tt.a.post(c,s).then((function(n){console.log(n.data.data),e.addCommentNum(t),e.getPosts()})).catch((function(t){console.log(t)}))},addCommentNum:function(t){var e=t;e.comments+=1;var n=e._id,o="".concat("https://blooming-sands-85089.herokuapp.com","/posts/").concat(n),c={comments:e.comments};tt.a.patch(o,c).then((function(){console.log("addCommentNum Success!!!!")})).catch((function(t){console.log(t)}))},deletePost:function(t){var e=this;this.isLoading=!0;var n=t._id,o="".concat("https://blooming-sands-85089.herokuapp.com","/posts/").concat(n);tt.a.delete(o).then((function(){e.getPosts()})).catch((function(t){console.log(t)}))}}},nt=(n("358f"),n("d959")),ot=n.n(nt);const ct=ot()(et,[["render",q],["__scopeId","data-v-0a733340"]]);e["default"]=ct},d998:function(t,e,n){var o=n("342f");t.exports=/MSIE|Trident/.test(o)}}]);
//# sourceMappingURL=chunk-b2377de0.b29caa1f.js.map