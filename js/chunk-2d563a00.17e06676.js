(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d563a00"],{"0b42":function(t,e,n){var s=n("da84"),a=n("e8b5"),i=n("68ee"),c=n("861d"),o=n("b622"),r=o("species"),d=s.Array;t.exports=function(t){var e;return a(t)&&(e=t.constructor,i(e)&&(e===d||a(e.prototype))?e=void 0:c(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?d:e}},"1dde":function(t,e,n){var s=n("d039"),a=n("b622"),i=n("2d00"),c=a("species");t.exports=function(t){return i>=51||!s((function(){var e=[],n=e.constructor={};return n[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,n){var s=n("0b42");t.exports=function(t,e){return new(s(t))(0===e?0:e)}},"99af":function(t,e,n){"use strict";var s=n("23e7"),a=n("da84"),i=n("d039"),c=n("e8b5"),o=n("861d"),r=n("7b0b"),d=n("07fa"),u=n("8418"),l=n("65f0"),b=n("1dde"),h=n("b622"),f=n("2d00"),p=h("isConcatSpreadable"),m=9007199254740991,O="Maximum allowed index exceeded",v=a.TypeError,j=f>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=b("concat"),w=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:c(t)},x=!j||!g;s({target:"Array",proto:!0,arity:1,forced:x},{concat:function(t){var e,n,s,a,i,c=r(this),o=l(c,0),b=0;for(e=-1,s=arguments.length;e<s;e++)if(i=-1===e?c:arguments[e],w(i)){if(a=d(i),b+a>m)throw v(O);for(n=0;n<a;n++,b++)n in i&&u(o,b,i[n])}else{if(b>=m)throw v(O);u(o,b++,i)}return o.length=b,o}})},b0c0:function(t,e,n){var s=n("83ab"),a=n("5e77").EXISTS,i=n("e330"),c=n("9bf2").f,o=Function.prototype,r=i(o.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=i(d.exec),l="name";s&&!a&&c(o,l,{configurable:!0,get:function(){try{return u(d,r(this))[1]}catch(t){return""}}})},be00:function(t,e,n){"use strict";n.r(e);var s=n("7a23"),a=function(t){return Object(s["C"])("data-v-312c8bfd"),t=t(),Object(s["A"])(),t},i={class:"container modifyPersonalProfiles"},c={class:"modifyPersonalProfile"},o={class:"pos_1"},r={class:"above"},d={class:"above-title"},u=Object(s["i"])("修改個人資料"),l=a((function(){return Object(s["h"])("div",{class:"under"},null,-1)})),b={class:"pos_2"},h={class:"modifyArea"},f={class:"tab-list"},p={class:"tab-itom"},m=a((function(){return Object(s["h"])("input",{type:"radio",id:"tabRadio1",class:"test-radio",name:"tab",checked:"checked"},null,-1)})),O=a((function(){return Object(s["h"])("label",{class:"test-label",for:"tabRadio1"},"暱稱修改",-1)})),v={class:"tab-box"},j={class:"content"},g={class:"imgUpload-Div"},w={for:"fileUpload",class:"imgUpload-A"},x=a((function(){return Object(s["h"])("span",{class:"me-2"},"上傳圖片",-1)})),U={class:"nickName-Form"},y=a((function(){return Object(s["h"])("label",{class:"nickName-Form-Label"},"暱稱",-1)})),I=a((function(){return Object(s["h"])("br",null,null,-1)})),k={class:"sexForm"},A=a((function(){return Object(s["h"])("label",{class:"sexLabel"},"性別",-1)})),T=a((function(){return Object(s["h"])("br",null,null,-1)})),B={class:"sexRadio"},S=["change"],F=a((function(){return Object(s["h"])("label",{for:"manRadio",class:"sexRadioLabel"},"男性",-1)})),L=["change"],_=a((function(){return Object(s["h"])("label",{for:"womanRadio",class:"sexRadioLabel"},"女性",-1)})),P={class:"tab-itom"},R=a((function(){return Object(s["h"])("input",{type:"radio",id:"tabRadio2",class:"test-radio",name:"tab"},null,-1)})),V=a((function(){return Object(s["h"])("label",{class:"test-label",for:"tabRadio2"},"重設密碼",-1)})),N={class:"tab-box"},D={class:"content"},$={class:"password1-Form"},C=a((function(){return Object(s["h"])("label",{class:"password1-Form-Label",for:"password1"},"輸入新密碼",-1)})),W=a((function(){return Object(s["h"])("br",null,null,-1)})),H={class:"password2-Form"},M=a((function(){return Object(s["h"])("label",{class:"password2-Form-Label",for:"password2"},"再次輸入密碼",-1)})),z=a((function(){return Object(s["h"])("br",null,null,-1)})),K={class:"loadingBackground"},E={class:"loading"},G=a((function(){return Object(s["h"])("div",{class:"lds-spinner"},[Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div"),Object(s["h"])("div")],-1)})),J=[G];function Q(t,e,n,a,G,Q){var q=Object(s["H"])("h");return Object(s["z"])(),Object(s["g"])("div",i,[Object(s["h"])("div",c,[Object(s["h"])("div",o,[Object(s["h"])("div",r,[Object(s["h"])("div",d,[Object(s["j"])(q,null,{default:Object(s["U"])((function(){return[u]})),_:1})])]),l]),Object(s["h"])("div",b,[Object(s["h"])("div",h,[Object(s["h"])("ul",f,[Object(s["h"])("li",p,[m,O,Object(s["h"])("div",v,[Object(s["h"])("div",j,[Object(s["h"])("div",{class:"headImg",style:Object(s["t"])([{"background-image":"url("+this.imgs[0]+")"},{"background-size":"cover","background-position":"center",overflow:"hidden"}])},null,4),Object(s["h"])("div",g,[Object(s["h"])("label",w,[x,Object(s["h"])("input",{id:"fileUpload",type:"file",ref:"files",onChange:e[0]||(e[0]=Object(s["W"])((function(t){return Q.uploadImage(t)}),["prevent"]))},null,544)])]),Object(s["h"])("div",U,[y,I,Object(s["V"])(Object(s["h"])("input",{type:"text",class:"nickName-form-text",onKeyup:e[1]||(e[1]=Object(s["W"])((function(t){return Q.firstTabIsSendOutBtnActive()}),["prevent"])),placeholder:"輸入暱稱...","onUpdate:modelValue":e[2]||(e[2]=function(t){return G.nickName=t})},null,544),[[s["P"],G.nickName]])]),Object(s["h"])("div",k,[A,T,Object(s["h"])("div",B,[Object(s["V"])(Object(s["h"])("input",{id:"manRadio",type:"radio",name:"sexRadio",value:"男性","onUpdate:modelValue":e[3]||(e[3]=function(t){return G.sex=t}),change:Q.firstTabIsSendOutBtnActive()},null,8,S),[[s["N"],G.sex]]),F,Object(s["V"])(Object(s["h"])("input",{id:"womanRadio",class:"womanRadioInput",type:"radio",name:"sexRadio",value:"女性","onUpdate:modelValue":e[4]||(e[4]=function(t){return G.sex=t}),change:Q.firstTabIsSendOutBtnActive()},null,8,L),[[s["N"],G.sex]]),_])]),Object(s["h"])("a",{type:"button",class:Object(s["s"])([{"sendOutA-Disable":!G.isFirstTab_SendOutBtnActive},"send-A"]),href:"#",onClick:e[5]||(e[5]=Object(s["W"])((function(t){return Q.firstTabUpdateUserInformation()}),["prevent"]))},[Object(s["h"])("div",{class:Object(s["s"])(["sendBtn",{"sendBtn-Active":G.isFirstTab_SendOutBtnActive}])}," 送出更新 ",2)],2)])])]),Object(s["h"])("li",P,[R,V,Object(s["h"])("div",N,[Object(s["h"])("div",D,[Object(s["h"])("div",$,[C,W,Object(s["V"])(Object(s["h"])("input",{type:"password",id:"password1","onUpdate:modelValue":e[6]||(e[6]=function(t){return G.firstPassword=t}),class:"password1-form-text",placeholder:"輸入新密碼...",onKeyup:e[7]||(e[7]=Object(s["W"])((function(t){return Q.secondTabIsSendOutBtnActive()}),["prevent"]))},null,544),[[s["P"],G.firstPassword]])]),Object(s["h"])("div",H,[M,z,Object(s["V"])(Object(s["h"])("input",{type:"password",id:"password2","onUpdate:modelValue":e[8]||(e[8]=function(t){return G.secondPassword=t}),class:"password2-form-text",placeholder:"再次輸入密碼...",onKeyup:e[9]||(e[9]=Object(s["W"])((function(t){return Q.secondTabIsSendOutBtnActive()}),["prevent"]))},null,544),[[s["P"],G.secondPassword]])]),Object(s["h"])("a",{type:"button",class:Object(s["s"])(["secondTab-SendOutBtn",{"sendOutA-Disable":!G.isSecondTab_SendOutBtnActive}]),href:"#",onClick:e[10]||(e[10]=Object(s["W"])((function(t){return Q.secondTabUpdateUserInformation()}),["prevent"]))},[Object(s["h"])("div",{class:Object(s["s"])(["passwordBtn",{"secondTab-SendOutBtn-Active":G.isSecondTab_SendOutBtnActive}])}," 重設密碼 ",2)],2)])])])])])])]),Object(s["V"])(Object(s["h"])("div",K,null,512),[[s["Q"],G.isLoading]]),Object(s["V"])(Object(s["h"])("div",E,J,512),[[s["Q"],G.isLoading]])])}n("ac1f"),n("5319"),n("99af"),n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var q=n("bc3a"),X=n.n(q),Y={data:function(){return{imgFile:{},imgs:["https://images.unsplash.com/photo-1604147706283-d7119b5b822c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=387&q=80"],nickName:"",isFirstTab_SendOutBtnActive:!1,sex:"",isSecondTab_SendOutBtnActive:!1,firstPassword:"",secondPassword:"",isLoading:!1,myUserId:""}},created:function(){this.userTokenCheck(this.getUserInformation)},methods:{userTokenCheck:function(t){var e=this,n="".concat("https://blooming-sands-85089.herokuapp.com","/user/auth-check"),s=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),a="Bearer ".concat(s);X.a.defaults.headers.common.Authorization=a,X.a.post(n).then((function(n){e.myUserId=n.data.userId,void 0!==t&&t()})).catch((function(){e.$router.push("/login")}))},getUserInformation:function(){var t=this;this.isLoading=!0;var e=this.myUserId,n="".concat("https://blooming-sands-85089.herokuapp.com","/users/").concat(e);X.a.get(n).then((function(e){var n=e.data.datas;t.imgs=[],t.imgs.push(n.photo),t.nickName=n.name,t.sex=n.sex,t.isLoading=!1})).catch((function(t){console.dir(t)}))},firstTabIsSendOutBtnActive:function(){this.nickName&&this.imgs.length>0&&this.sex?this.isFirstTab_SendOutBtnActive=!0:this.isFirstTab_SendOutBtnActive=!1},firstTabUpdateUserInformation_ByUrlImage:function(){var t=this;this.isLoading=!0;var e=this.myUserId,n="".concat("https://blooming-sands-85089.herokuapp.com","/users/").concat(e),s={name:this.nickName,photo:this.imgs[0],sex:this.sex};X.a.patch(n,s).then((function(){t.$emit("changeUserProfile",!0),t.$router.push("/posts-with-comments"),t.isLoading=!1})).catch((function(t){console.log(t)}))},firstTabUpdateUserInformation_ByFormDataImage:function(){var t=this;this.isLoading=!0;var e=this.myUserId,n="".concat("https://blooming-sands-85089.herokuapp.com","/users/with-FormDataImage/").concat(e),s=new FormData;s.append("name",this.nickName),s.append("photo",this.imgFile),s.append("sex",this.sex),X.a.patch(n,s).then((function(){t.$emit("changeUserProfile",!0),t.$router.push("/posts-with-comments"),t.isLoading=!1})).catch((function(t){console.log(t)}))},uploadImage:function(t){var e=t.target.files[0],n=URL.createObjectURL(e);this.imgFile=e,this.imgs=[],this.imgs.push(n),this.firstTabIsSendOutBtnActive()},firstTabUpdateUserInformation:function(){void 0===this.imgFile.name?this.firstTabUpdateUserInformation_ByUrlImage():this.firstTabUpdateUserInformation_ByFormDataImage()},secondTabIsSendOutBtnActive:function(){this.firstPassword===this.secondPassword?this.isSecondTab_SendOutBtnActive=!0:this.isSecondTab_SendOutBtnActive=!1},secondTabUpdateUserInformation:function(){var t=this;this.isLoading=!0;var e=this.myUserId,n="".concat("https://blooming-sands-85089.herokuapp.com","/users/").concat(e),s={password:this.secondPassword};X.a.patch(n,s).then((function(){t.$router.push("/posts-with-comments"),t.isLoading=!1})).catch((function(t){console.log(t)}))}}},Z=(n("e00a"),n("d959")),tt=n.n(Z);const et=tt()(Y,[["render",Q],["__scopeId","data-v-312c8bfd"]]);e["default"]=et},de42:function(t,e,n){},e00a:function(t,e,n){"use strict";n("de42")},e8b5:function(t,e,n){var s=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}}}]);
//# sourceMappingURL=chunk-2d563a00.17e06676.js.map